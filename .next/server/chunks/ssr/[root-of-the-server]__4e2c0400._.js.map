{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/hooks/useUserRole.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '../context/authContext';\r\n\r\n// Hook para obtener el rol del usuario desde la API interna (PostgreSQL)\r\nexport function useUserRole() {\r\n  const { user } = useAuth();\r\n  const [role, setRole] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setRole(null);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    // Llama a tu API interna para obtener el rol por UID de Firebase\r\n    const fetchRole = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(`/api/user-role?uid=${user.uid}`);\r\n        const data = await res.json();\r\n        setRole(data.role || null);\r\n      } catch (err) {\r\n        setRole(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRole();\r\n  }, [user]);\r\n\r\n  return { role, loading };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAKO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgB;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;YACT,QAAQ;YACR,WAAW;YACX;QACF;QACA,iEAAiE;QACjE,MAAM,YAAY;YAChB,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,KAAK,GAAG,EAAE;gBACxD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,IAAI,IAAI;YACvB,EAAE,OAAO,KAAK;gBACZ,QAAQ;YACV,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;KAAK;IAET,OAAO;QAAE;QAAM;IAAQ;AACzB","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport React from 'react';\r\nimport { useAuth } from '../context/authContext';\r\nimport { useUserRole } from '../hooks/useUserRole';\r\n\r\n// Componente para proteger rutas según autenticación y rol\r\nexport default function ProtectedRoute({ children, allowedRoles }: { children: React.ReactNode, allowedRoles?: string[] }) {\r\n  const { user, loading: authLoading } = useAuth();\r\n  const { role, loading: roleLoading } = useUserRole();\r\n\r\n  if (authLoading || roleLoading) return <div>Cargando...</div>;\r\n  if (!user) {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = '/login';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  if (allowedRoles && (!role || !allowedRoles.includes(role))) {\r\n    return <div>No tienes permiso para acceder a esta página.</div>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAA0D;IACvH,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,yIAAO;IAC9C,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,0IAAW;IAElD,IAAI,eAAe,aAAa,qBAAO,8OAAC;kBAAI;;;;;;IAC5C,IAAI,CAAC,MAAM;QACT;;QAGA,OAAO;IACT;IAEA,IAAI,gBAAgB,CAAC,CAAC,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,GAAG;QAC3D,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/admin-dashboard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activityAction\": \"admin-dashboard-module__5BnUYq__activityAction\",\n  \"activityCard\": \"admin-dashboard-module__5BnUYq__activityCard\",\n  \"activityDate\": \"admin-dashboard-module__5BnUYq__activityDate\",\n  \"activityTable\": \"admin-dashboard-module__5BnUYq__activityTable\",\n  \"activityTitle\": \"admin-dashboard-module__5BnUYq__activityTitle\",\n  \"activityUser\": \"admin-dashboard-module__5BnUYq__activityUser\",\n  \"avatar\": \"admin-dashboard-module__5BnUYq__avatar\",\n  \"dashboardContainer\": \"admin-dashboard-module__5BnUYq__dashboardContainer\",\n  \"logo\": \"admin-dashboard-module__5BnUYq__logo\",\n  \"logoutBtn\": \"admin-dashboard-module__5BnUYq__logoutBtn\",\n  \"mainContent\": \"admin-dashboard-module__5BnUYq__mainContent\",\n  \"menu\": \"admin-dashboard-module__5BnUYq__menu\",\n  \"menuItem\": \"admin-dashboard-module__5BnUYq__menuItem\",\n  \"menuItemActive\": \"admin-dashboard-module__5BnUYq__menuItemActive\",\n  \"metricCard\": \"admin-dashboard-module__5BnUYq__metricCard\",\n  \"metricLabel\": \"admin-dashboard-module__5BnUYq__metricLabel\",\n  \"metricValue\": \"admin-dashboard-module__5BnUYq__metricValue\",\n  \"metricsGrid\": \"admin-dashboard-module__5BnUYq__metricsGrid\",\n  \"sidebar\": \"admin-dashboard-module__5BnUYq__sidebar\",\n  \"subtitle\": \"admin-dashboard-module__5BnUYq__subtitle\",\n  \"title\": \"admin-dashboard-module__5BnUYq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/admin-horarios.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"fadeInBlock\": \"admin-horarios-module__y66LRG__fadeInBlock\",\n  \"horarioCell\": \"admin-horarios-module__y66LRG__horarioCell\",\n  \"horarioCellDroppable\": \"admin-horarios-module__y66LRG__horarioCellDroppable\",\n  \"horarioContainer\": \"admin-horarios-module__y66LRG__horarioContainer\",\n  \"horarioGrid\": \"admin-horarios-module__y66LRG__horarioGrid\",\n  \"horarioHeader\": \"admin-horarios-module__y66LRG__horarioHeader\",\n  \"horarioMateria\": \"admin-horarios-module__y66LRG__horarioMateria\",\n  \"horarioRowLabel\": \"admin-horarios-module__y66LRG__horarioRowLabel\",\n  \"materiaDraggable\": \"admin-horarios-module__y66LRG__materiaDraggable\",\n  \"removeBtn\": \"admin-horarios-module__y66LRG__removeBtn\",\n  \"selectModern\": \"admin-horarios-module__y66LRG__selectModern\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/NextLink.tsx"],"sourcesContent":["import Link from 'next/link';\r\n\r\nexport default Link;"],"names":[],"mappings":";;;;AAAA;;uCAEe,uKAAI","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/app/admin/horarios/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport ProtectedRoute from '../../../components/ProtectedRoute';\r\nimport styles from '../../../styles/admin-dashboard.module.css';\r\nimport horarioStyles from '../../../styles/admin-horarios.module.css';\r\nimport NextLink from '../../../components/NextLink';\r\nimport { UserCircleIcon, AcademicCapIcon, ClipboardIcon, CalendarIcon } from '@heroicons/react/24/outline';\r\n\r\nconst sidebarLinks = [\r\n  { label: 'Gestión de Usuarios', icon: UserCircleIcon, href: '/admin/usuarios' },\r\n  { label: 'Grados/Secciones', icon: AcademicCapIcon, href: '/admin/grados' },\r\n  { label: 'Horarios', icon: CalendarIcon, href: '/admin/horarios', active: true },\r\n  { label: 'Matrícula', icon: ClipboardIcon, href: '/admin/matricula' },\r\n];\r\n\r\nconst DIAS = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes'];\r\nconst HORAS = [\r\n  '07:00', '08:00', '09:00', '10:00', '11:00', '12:00',\r\n  '13:00', '14:00', '15:00', '16:00', '17:00'\r\n];\r\n\r\nexport default function AdminHorariosPage() {\r\n  const [ciclos, setCiclos] = useState<any[]>([]);\r\n  const [grados, setGrados] = useState<any[]>([]);\r\n  const [materias, setMaterias] = useState<any[]>([]);\r\n  const [selectedCiclo, setSelectedCiclo] = useState<number|null>(null);\r\n  const [selectedGrado, setSelectedGrado] = useState<number|null>(null);\r\n  const [horario, setHorario] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [dragMateria, setDragMateria] = useState<any|null>(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [showAsignarMenu, setShowAsignarMenu] = useState(false);\r\n  const [pendingMateria, setPendingMateria] = useState<any|null>(null);\r\n  const [selectedDia, setSelectedDia] = useState(DIAS[0]);\r\n  const [selectedHora, setSelectedHora] = useState(HORAS[0]);\r\n  const [selectedDuracion, setSelectedDuracion] = useState(1);\r\n\r\n  // Cargar ciclos y grados al inicio\r\n  useEffect(() => {\r\n    fetch('/api/admin/ciclos').then(r => r.json()).then(setCiclos);\r\n    fetch('/api/admin/grados').then(r => r.json()).then(setGrados);\r\n  }, []);\r\n\r\n  // Cargar materias asignadas al grado\r\n  useEffect(() => {\r\n    if (selectedGrado) {\r\n      fetch('/api/admin/asignaturas')\r\n        .then(r => r.json())\r\n        .then(data => {\r\n          // Filtrar materias asignadas a este grado\r\n          const mats: any[] = [];\r\n          data.forEach((m: any) => {\r\n            if (m.grados.some((g: any) => g.id === selectedGrado)) {\r\n              mats.push(m);\r\n            }\r\n          });\r\n          setMaterias(mats);\r\n        });\r\n    } else {\r\n      setMaterias([]);\r\n    }\r\n  }, [selectedGrado]);\r\n\r\n  // Cargar horario actual\r\n  useEffect(() => {\r\n    if (selectedGrado && selectedCiclo) {\r\n      setLoading(true);\r\n      fetch(`/api/admin/horarios?gradoId=${selectedGrado}&cicloId=${selectedCiclo}`)\r\n        .then(r => r.json())\r\n        .then(data => setHorario(data))\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      setHorario([]);\r\n    }\r\n  }, [selectedGrado, selectedCiclo]);\r\n\r\n  // Drag & Drop nativo\r\n  const onDragStart = (materia: any) => setDragMateria(materia);\r\n  const onDragEnd = () => setDragMateria(null);\r\n\r\n  // Al soltar, mostrar menú de duración\r\n  const onDropCell = () => {\r\n    if (!dragMateria || !selectedGrado || !selectedCiclo) return;\r\n    setPendingMateria(dragMateria);\r\n    setSelectedDia(DIAS[0]);\r\n    setSelectedHora(HORAS[0]);\r\n    setSelectedDuracion(1);\r\n    setShowAsignarMenu(true);\r\n  };\r\n\r\n  // Confirmar duración y guardar bloque\r\n  const handleConfirmAsignar = async () => {\r\n    if (!pendingMateria || !selectedGrado || !selectedCiclo) return;\r\n    setSaving(true);\r\n    setError('');\r\n    const diaDb = selectedDia.toUpperCase();\r\n    const idx = HORAS.indexOf(selectedHora);\r\n    const horaFin = HORAS[idx + selectedDuracion] || HORAS[HORAS.length - 1];\r\n    // Buscar el docente asignado correctamente\r\n    let docenteId: number | null = null;\r\n    const gradoAsignado = pendingMateria.grados.find((g: any) => g.id === selectedGrado);\r\n    if (gradoAsignado && gradoAsignado.docentes && gradoAsignado.docentes.length > 0) {\r\n      docenteId = gradoAsignado.docentes[0].id;\r\n    }\r\n    if (!docenteId) {\r\n      setError('No hay docente asignado a esta materia para este grado.');\r\n      setSaving(false);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch('/api/admin/horarios', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          gradoId: selectedGrado,\r\n          cicloId: selectedCiclo,\r\n          materiaId: pendingMateria.id,\r\n          docenteId,\r\n          dia: diaDb,\r\n          horaInicio: selectedHora,\r\n          horaFin,\r\n        })\r\n      });\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        setError(data.error || 'Error al guardar horario');\r\n      } else {\r\n        // Actualizar la grilla inmediatamente\r\n        const nuevo = await res.json();\r\n        setHorario(prev => [...prev, nuevo]);\r\n        // Log visual para depuración\r\n        console.log('Bloque guardado:', nuevo);\r\n      }\r\n    } catch {\r\n      setError('Error de red');\r\n    }\r\n    setSaving(false);\r\n    setDragMateria(null);\r\n    setShowAsignarMenu(false);\r\n    setPendingMateria(null);\r\n  };\r\n\r\n  // Cancelar menú de duración\r\n  const handleCancelAsignar = () => {\r\n    setShowAsignarMenu(false);\r\n    setPendingMateria(null);\r\n    setDragMateria(null);\r\n  };\r\n\r\n  const removeHorario = async (id: number) => {\r\n    setSaving(true);\r\n    setError('');\r\n    try {\r\n      const res = await fetch(`/api/admin/horarios?id=${id}`, { method: 'DELETE' });\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        setError(data.error || 'Error al eliminar bloque');\r\n      } else {\r\n        setHorario(horario.filter((h: any) => h.id !== id));\r\n      }\r\n    } catch {\r\n      setError('Error de red');\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n\r\n  // Para saber si una celda ya está ocupada por un bloque largo\r\n  function isCellStart(dia: string, hora: string) {\r\n    return horario.some((h: any) => h.dia === dia && h.horaInicio === hora);\r\n  }\r\n  function getCellBlock(dia: string, hora: string) {\r\n    return horario.find((h: any) => h.dia?.toUpperCase() === dia.toUpperCase() && h.horaInicio === hora);\r\n  }\r\n  function getBlockRowSpan(bloque: any) {\r\n    const idxIni = HORAS.indexOf(bloque.horaInicio);\r\n    const idxFin = HORAS.indexOf(bloque.horaFin);\r\n    return Math.max(1, idxFin - idxIni);\r\n  }\r\n  function isCellCovered(dia: string, hora: string) {\r\n    // ¿Esta celda está cubierta por un bloque que empezó antes?\r\n    return horario.some((h: any) => {\r\n      if (h.dia?.toUpperCase() !== dia.toUpperCase()) return false;\r\n      const idxIni = HORAS.indexOf(h.horaInicio);\r\n      const idxFin = HORAS.indexOf(h.horaFin);\r\n      const idx = HORAS.indexOf(hora);\r\n      return idx > idxIni && idx < idxFin;\r\n    });\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <ProtectedRoute allowedRoles={[\"ADMIN\"]}>\r\n      <div className={styles.dashboardContainer}>\r\n        <aside className={styles.sidebar}>\r\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '3rem' }}>\r\n            <img src=\"/favicon.ico\" alt=\"Admin\" className={styles.avatar} />\r\n            <span className={styles.logo}>AulaUnida</span>\r\n          </div>\r\n          <nav className={styles.menu}>\r\n            <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n              {sidebarLinks.map(link => (\r\n                <li key={link.label}>\r\n                  <NextLink href={link.href} className={`${styles.menuItem} ${link.active ? styles.menuItemActive : ''}`}>\r\n                    <link.icon style={{ width: 24, height: 24, marginRight: 16 }} />\r\n                    {link.label}\r\n                  </NextLink>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </nav>\r\n        </aside>\r\n        <main className={styles.mainContent}>\r\n          <h1 className={styles.title}>Gestión de Horarios</h1>\r\n          <div className={horarioStyles.horarioContainer}>\r\n            <div style={{ display: 'flex', gap: 16, marginBottom: 24 }}>\r\n              <select value={selectedCiclo || ''} onChange={e => setSelectedCiclo(Number(e.target.value) || null)} className={horarioStyles.selectModern}>\r\n                <option value=\"\">Selecciona ciclo</option>\r\n                {ciclos.map(c => <option key={c.id} value={c.id}>{c.nombre}</option>)}\r\n              </select>\r\n              <select value={selectedGrado || ''} onChange={e => setSelectedGrado(Number(e.target.value) || null)} className={horarioStyles.selectModern}>\r\n                <option value=\"\">Selecciona grado</option>\r\n                {grados.map(g => <option key={g.id} value={g.id}>{g.nombre} {g.seccion}</option>)}\r\n              </select>\r\n            </div>\r\n            {selectedCiclo && selectedGrado && (\r\n              <div style={{ display: 'flex', gap: 32 }}>\r\n                {/* Materias asignadas */}\r\n                <div style={{ minWidth: 220 }}>\r\n                  <h3 style={{ fontWeight: 600, fontSize: 16, marginBottom: 8 }}>Materias asignadas</h3>\r\n                  <div>\r\n                    {materias.length === 0 && <div style={{ color: '#888', fontSize: 14 }}>Sin materias</div>}\r\n                    {materias.map(m => (\r\n                      <div\r\n                        key={m.id}\r\n                        className={horarioStyles.materiaDraggable}\r\n                        draggable\r\n                        onDragStart={() => onDragStart(m)}\r\n                        onDragEnd={onDragEnd}\r\n                        style={{ opacity: dragMateria && dragMateria.id === m.id ? 0.5 : 1 }}\r\n                      >\r\n                        {m.nombre}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                {/* Grilla de horario */}\r\n                <div style={{ flex: 1, position: 'relative' }}>\r\n                  <table className={horarioStyles.horarioGrid} style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                    <thead>\r\n                      <tr>\r\n                        <th className={horarioStyles.horarioHeader}></th>\r\n                        {DIAS.map(dia => (\r\n                          <th key={dia} className={horarioStyles.horarioHeader}>{dia}</th>\r\n                        ))}\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {HORAS.map((hora, rowIdx) => (\r\n                        <tr key={hora}>\r\n                          <td className={horarioStyles.horarioRowLabel}>{hora}</td>\r\n                          {DIAS.map(dia => {\r\n                            if (isCellCovered(dia, hora)) return null;\r\n                            const bloque = getCellBlock(dia, hora);\r\n                            return (\r\n                              <td\r\n                                key={dia + '-' + hora}\r\n                                className={horarioStyles.horarioCell + (dragMateria ? ' ' + horarioStyles.horarioCellDroppable : '')}\r\n                                onDragOver={e => { e.preventDefault(); }}\r\n                                onDrop={() => onDropCell()}\r\n                                rowSpan={bloque ? getBlockRowSpan(bloque) : 1}\r\n                                style={{ position: 'relative', verticalAlign: 'top' }}\r\n                              >\r\n                                {bloque ? (\r\n                                  <div className={horarioStyles.horarioMateria} style={{ height: 44 * getBlockRowSpan(bloque) }}>\r\n                                    {bloque.materia?.nombre || 'Materia'}\r\n                                    <button className=\"removeBtn\" onClick={e => { e.preventDefault(); removeHorario(bloque.id); }} title=\"Eliminar\">✕</button>\r\n                                  </div>\r\n                                ) : null}\r\n                              </td>\r\n                            );\r\n                          })}\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                  {/* Modal de asignación flexible, fuera de la tabla */}\r\n                  {showAsignarMenu && (\r\n                    <div style={{\r\n                      position: 'fixed',\r\n                      left: '50%',\r\n                      top: '50%',\r\n                      transform: 'translate(-50%, -50%)',\r\n                      background: '#181A1B',\r\n                      border: '3px solid #2563eb',\r\n                      borderRadius: 14,\r\n                      boxShadow: '0 6px 24px #0008',\r\n                      zIndex: 100,\r\n                      padding: 32,\r\n                      minWidth: 320,\r\n                      color: '#fff',\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      alignItems: 'stretch',\r\n                    }}>\r\n                      <div style={{ fontWeight: 700, fontSize: 20, marginBottom: 18, color: '#fff' }}>Asignar materia</div>\r\n                      <label style={{ marginBottom: 12 }}>\r\n                        Día:\r\n                        <select value={selectedDia} onChange={e => setSelectedDia(e.target.value)} style={{ marginLeft: 8, padding: 6, borderRadius: 6 }}>\r\n                          {DIAS.map(dia => <option key={dia} value={dia}>{dia}</option>)}\r\n                        </select>\r\n                      </label>\r\n                      <label style={{ marginBottom: 12 }}>\r\n                        Hora de inicio:\r\n                        <select value={selectedHora} onChange={e => setSelectedHora(e.target.value)} style={{ marginLeft: 8, padding: 6, borderRadius: 6 }}>\r\n                          {HORAS.map(hora => <option key={hora} value={hora}>{hora}</option>)}\r\n                        </select>\r\n                      </label>\r\n                      <label style={{ marginBottom: 18 }}>\r\n                        Duración:\r\n                        <select value={selectedDuracion} onChange={e => setSelectedDuracion(Number(e.target.value))} style={{ marginLeft: 8, padding: 6, borderRadius: 6 }}>\r\n                          {[1,2,3,4].map(d => <option key={d} value={d}>{d} hora(s)</option>)}\r\n                        </select>\r\n                      </label>\r\n                      <div style={{ display: 'flex', gap: 16, justifyContent: 'flex-end' }}>\r\n                        <button onClick={handleCancelAsignar} style={{\r\n                          background: '#232527',\r\n                          color: '#fff',\r\n                          border: '2px solid #888',\r\n                          borderRadius: 8,\r\n                          padding: '8px 20px',\r\n                          fontWeight: 600,\r\n                          fontSize: 15,\r\n                          transition: 'border 0.2s',\r\n                          cursor: 'pointer',\r\n                        }}>Cancelar</button>\r\n                        <button onClick={handleConfirmAsignar} style={{\r\n                          background: '#2563eb',\r\n                          color: '#fff',\r\n                          border: '2px solid #1d4ed8',\r\n                          borderRadius: 8,\r\n                          padding: '8px 20px',\r\n                          fontWeight: 700,\r\n                          fontSize: 15,\r\n                          boxShadow: '0 2px 8px #2563eb44',\r\n                          cursor: 'pointer',\r\n                        }}>Confirmar</button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n            {error && <div style={{ color: '#dc2626', marginTop: 16 }}>{error}</div>}\r\n            {saving && <div style={{ color: '#2563eb', marginTop: 16 }}>Guardando...</div>}\r\n            {loading && <div style={{ color: '#888', marginTop: 16 }}>Cargando horario...</div>}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}