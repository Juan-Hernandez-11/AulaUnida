{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/hooks/useUserRole.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '../context/authContext';\r\n\r\n// Hook para obtener el rol del usuario desde la API interna (PostgreSQL)\r\nexport function useUserRole() {\r\n  const { user } = useAuth();\r\n  const [role, setRole] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setRole(null);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    // Llama a tu API interna para obtener el rol por UID de Firebase\r\n    const fetchRole = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(`/api/user-role?uid=${user.uid}`);\r\n        const data = await res.json();\r\n        setRole(data.role || null);\r\n      } catch (err) {\r\n        setRole(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRole();\r\n  }, [user]);\r\n\r\n  return { role, loading };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;AAFA;;;AAKO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4IAAO;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAgB;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACR,IAAI,CAAC,MAAM;gBACT,QAAQ;gBACR,WAAW;gBACX;YACF;YACA,iEAAiE;YACjE,MAAM;mDAAY;oBAChB,WAAW;oBACX,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,AAAC,sBAA8B,OAAT,KAAK,GAAG;wBACtD,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,QAAQ,KAAK,IAAI,IAAI;oBACvB,EAAE,OAAO,KAAK;wBACZ,QAAQ;oBACV,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;gCAAG;QAAC;KAAK;IAET,OAAO;QAAE;QAAM;IAAQ;AACzB;GA5BgB;;QACG,4IAAO","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/LoadingModal.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"overlay\": \"LoadingModal-module__WP8uBG__overlay\",\n  \"panel\": \"LoadingModal-module__WP8uBG__panel\",\n  \"srOnly\": \"LoadingModal-module__WP8uBG__srOnly\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/Loading.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loadingRoot\": \"Loading-module__2aO0xG__loadingRoot\",\n  \"spin\": \"Loading-module__2aO0xG__spin\",\n  \"spinner\": \"Loading-module__2aO0xG__spinner\",\n  \"text\": \"Loading-module__2aO0xG__text\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/Loading.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './Loading.module.css';\r\n\r\ninterface Props { message?: string }\r\n\r\nexport default function Loading({ message = 'Cargando...' }: Props) {\r\n  return (\r\n    <div className={styles.loadingRoot}>\r\n      <div className={styles.spinner} aria-hidden=\"true\" />\r\n      <div className={styles.text}>{message}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAIe,SAAS,QAAQ,KAAkC;QAAlC,EAAE,UAAU,aAAa,EAAS,GAAlC;IAC9B,qBACE,6LAAC;QAAI,WAAW,4JAAM,CAAC,WAAW;;0BAChC,6LAAC;gBAAI,WAAW,4JAAM,CAAC,OAAO;gBAAE,eAAY;;;;;;0BAC5C,6LAAC;gBAAI,WAAW,4JAAM,CAAC,IAAI;0BAAG;;;;;;;;;;;;AAGpC;KAPwB","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/LoadingModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './LoadingModal.module.css';\r\nimport Loading from './Loading';\r\n\r\ninterface Props { open: boolean; message?: string }\r\n\r\nexport default function LoadingModal({ open, message = 'Cargando...' }: Props) {\r\n  if (!open) return null;\r\n  return (\r\n    <div className={styles.overlay} role=\"status\" aria-live=\"polite\">\r\n      <div className={styles.panel}>\r\n        <Loading message={message} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAIe,SAAS,aAAa,KAAwC;QAAxC,EAAE,IAAI,EAAE,UAAU,aAAa,EAAS,GAAxC;IACnC,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,6LAAC;QAAI,WAAW,iKAAM,CAAC,OAAO;QAAE,MAAK;QAAS,aAAU;kBACtD,cAAA,6LAAC;YAAI,WAAW,iKAAM,CAAC,KAAK;sBAC1B,cAAA,6LAAC,iJAAO;gBAAC,SAAS;;;;;;;;;;;;;;;;AAI1B;KATwB","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport React from 'react';\r\nimport { useAuth } from '../context/authContext';\r\nimport { useUserRole } from '../hooks/useUserRole';\r\nimport Loading from './ui/Loading';\r\nimport LoadingModal from './ui/LoadingModal';\r\n\r\n// Componente para proteger rutas según autenticación y rol\r\nexport default function ProtectedRoute({ children, allowedRoles }: { children: React.ReactNode, allowedRoles?: string[] }) {\r\n  const { user, loading: authLoading } = useAuth();\r\n  const { role, loading: roleLoading } = useUserRole();\r\n\r\n  if (authLoading || roleLoading) return <LoadingModal open={true} message=\"Cargando...\" />;\r\n  if (!user) {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = '/login';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  if (allowedRoles && (!role || !allowedRoles.includes(role))) {\r\n    return <div>No tienes permiso para acceder a esta página.</div>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;;;AALA;;;;AAQe,SAAS,eAAe,KAAkF;QAAlF,EAAE,QAAQ,EAAE,YAAY,EAA0D,GAAlF;;IACrC,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,4IAAO;IAC9C,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,6IAAW;IAElD,IAAI,eAAe,aAAa,qBAAO,6LAAC,sJAAY;QAAC,MAAM;QAAM,SAAQ;;;;;;IACzE,IAAI,CAAC,MAAM;QACT,wCAAmC;YACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;QACA,OAAO;IACT;IAEA,IAAI,gBAAgB,CAAC,CAAC,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,GAAG;QAC3D,qBAAO,6LAAC;sBAAI;;;;;;IACd;IAEA,qBAAO;kBAAG;;AACZ;GAjBwB;;QACiB,4IAAO;QACP,6IAAW;;;KAF5B","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/admin-dashboard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activityAction\": \"admin-dashboard-module__5BnUYq__activityAction\",\n  \"activityCard\": \"admin-dashboard-module__5BnUYq__activityCard\",\n  \"activityDate\": \"admin-dashboard-module__5BnUYq__activityDate\",\n  \"activityTable\": \"admin-dashboard-module__5BnUYq__activityTable\",\n  \"activityTitle\": \"admin-dashboard-module__5BnUYq__activityTitle\",\n  \"activityUser\": \"admin-dashboard-module__5BnUYq__activityUser\",\n  \"avatar\": \"admin-dashboard-module__5BnUYq__avatar\",\n  \"dashboardContainer\": \"admin-dashboard-module__5BnUYq__dashboardContainer\",\n  \"logo\": \"admin-dashboard-module__5BnUYq__logo\",\n  \"logoutBtn\": \"admin-dashboard-module__5BnUYq__logoutBtn\",\n  \"mainContent\": \"admin-dashboard-module__5BnUYq__mainContent\",\n  \"menu\": \"admin-dashboard-module__5BnUYq__menu\",\n  \"menuItem\": \"admin-dashboard-module__5BnUYq__menuItem\",\n  \"menuItemActive\": \"admin-dashboard-module__5BnUYq__menuItemActive\",\n  \"metricCard\": \"admin-dashboard-module__5BnUYq__metricCard\",\n  \"metricLabel\": \"admin-dashboard-module__5BnUYq__metricLabel\",\n  \"metricValue\": \"admin-dashboard-module__5BnUYq__metricValue\",\n  \"metricsGrid\": \"admin-dashboard-module__5BnUYq__metricsGrid\",\n  \"sidebar\": \"admin-dashboard-module__5BnUYq__sidebar\",\n  \"subtitle\": \"admin-dashboard-module__5BnUYq__subtitle\",\n  \"title\": \"admin-dashboard-module__5BnUYq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/admin-user-form.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"adminFormButton\": \"admin-user-form-module__4EYx6G__adminFormButton\",\n  \"adminFormError\": \"admin-user-form-module__4EYx6G__adminFormError\",\n  \"adminFormField\": \"admin-user-form-module__4EYx6G__adminFormField\",\n  \"adminFormInput\": \"admin-user-form-module__4EYx6G__adminFormInput\",\n  \"adminFormLabel\": \"admin-user-form-module__4EYx6G__adminFormLabel\",\n  \"adminFormPhotoPreview\": \"admin-user-form-module__4EYx6G__adminFormPhotoPreview\",\n  \"adminFormSelect\": \"admin-user-form-module__4EYx6G__adminFormSelect\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/NextLink.tsx"],"sourcesContent":["import Link from 'next/link';\r\n\r\nexport default Link;"],"names":[],"mappings":";;;;AAAA;;uCAEe,0KAAI","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/Button.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"ghost\": \"Button-module__8RiFmG__ghost\",\n  \"icon\": \"Button-module__8RiFmG__icon\",\n  \"primary\": \"Button-module__8RiFmG__primary\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\ntype Props = React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  variant?: 'primary' | 'ghost';\r\n  icon?: React.ReactNode;\r\n};\r\n\r\nexport default function Button({ variant = 'primary', icon, children, className, ...rest }: Props) {\r\n  const cls = `${variant === 'primary' ? styles.primary : styles.ghost} ${className || ''}`.trim();\r\n  return (\r\n    <button {...rest} className={cls}>\r\n      {icon && <span className={styles.icon}>{icon}</span>}\r\n      <span>{children}</span>\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAOe,SAAS,OAAO,KAAkE;QAAlE,EAAE,UAAU,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAa,GAAlE;IAC7B,MAAM,MAAM,AAAC,GAA2D,OAAzD,YAAY,YAAY,2JAAM,CAAC,OAAO,GAAG,2JAAM,CAAC,KAAK,EAAC,KAAmB,OAAhB,aAAa,IAAK,IAAI;IAC9F,qBACE,6LAAC;QAAQ,GAAG,IAAI;QAAE,WAAW;;YAC1B,sBAAQ,6LAAC;gBAAK,WAAW,2JAAM,CAAC,IAAI;0BAAG;;;;;;0BACxC,6LAAC;0BAAM;;;;;;;;;;;;AAGb;KARwB","debugId":null}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/app/admin/usuarios/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport ProtectedRoute from '../../../components/ProtectedRoute';\r\nimport styles from '../../../styles/admin-dashboard.module.css';\r\nimport formStyles from '../../../styles/admin-user-form.module.css';\r\nimport { UserCircleIcon, AcademicCapIcon, ClipboardIcon } from '@heroicons/react/24/outline';\r\nimport NextLink from '../../../components/NextLink';\r\n\r\nimport Button from '../../../components/ui/Button';\r\nimport TriangleIcon from '../../../components/icons/TriangleIcon';\r\n\r\n// Botón de volver reutilizable\r\nfunction BackToDashboardButton() {\r\n  return (\r\n  <div style={{ marginBottom: 24 }}>\r\n  <NextLink href=\"/admin\" style={{ display: 'inline-flex', alignItems: 'center', gap: 8, color: 'var(--color-primary)', fontWeight: 500 }}>\r\n        <svg width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\"/></svg>\r\n        Volver al Dashboard\r\n      </NextLink>\r\n    </div>\r\n  );\r\n}\r\n\r\ntype User = {\r\n  id: number;\r\n  name: string | null;\r\n  email: string;\r\n  role: string;\r\n  documentType?: string;\r\n  documentNumber?: string;\r\n  birthDate?: string;\r\n  phone?: string;\r\n  address?: string;\r\n  gender?: string;\r\n  photoUrl?: string;\r\n  firebaseUid?: string;\r\n};\r\n\r\n\r\nconst sidebarLinks = [\r\n  { label: 'Crear Usuario', icon: UserCircleIcon, href: '/admin/usuarios', active: true },\r\n  { label: 'Listado de usuarios', icon: UserCircleIcon, href: '/admin/usuarios/listado' },\r\n  { label: 'Grados/Secciones', icon: AcademicCapIcon, href: '/admin/grados' },\r\n  { label: 'Matrícula', icon: ClipboardIcon, href: '/admin/matricula' },\r\n];\r\n\r\nexport default function AdminUsuariosPage() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    role: 'admin',\r\n    documentType: '',\r\n    documentNumber: '',\r\n    birthDate: '',\r\n    phone: '',\r\n    address: '',\r\n    gender: '',\r\n    photoUrl: ''\r\n  });\r\n  const pathname = usePathname();\r\n  //    firebaseUid: '', // Solo para edición, no para creación\r\n  const [photoFile, setPhotoFile] = useState<File | null>(null);\r\n  const [photoPreview, setPhotoPreview] = useState<string | null>(null);\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n  const [creating, setCreating] = useState(false);\r\n  const [error, setError] = useState('');\r\n  // Estado para errores de validación en tiempo real\r\n  const [fieldErrors, setFieldErrors] = useState<{\r\n    name?: string;\r\n    email?: string;\r\n    firebaseUid?: string;\r\n    documentType?: string;\r\n    documentNumber?: string;\r\n    birthDate?: string;\r\n    phone?: string;\r\n    address?: string;\r\n    gender?: string;\r\n    photoUrl?: string;\r\n  }>({});\r\n\r\n  // Obtener usuarios al cargar\r\n  // Cargar usuarios manualmente cuando sea necesario (ejemplo: con un botón o tras crear/editar)\r\n\r\n  // Manejar cambios en el formulario\r\n  // Validación en tiempo real\r\n  const validateField = (name: string, value: string) => {\r\n    let error = '';\r\n    if (name === 'name') {\r\n      if (!value.trim()) error = 'El nombre es obligatorio.';\r\n      else if (!/^[A-Za-zÁÉÍÓÚáéíóúÑñ ]{3,}$/.test(value.trim())) error = 'El nombre debe tener solo letras y al menos 3 caracteres.';\r\n    }\r\n    if (name === 'email') {\r\n      if (!value.trim()) error = 'El correo es obligatorio.';\r\n      else if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(value)) error = 'Correo inválido.';\r\n      else if (users.some(u => u.email.toLowerCase() === value.toLowerCase()) && (!editingId || users.find(u => u.id === editingId)?.email !== value)) error = 'Este correo ya está registrado.';\r\n    }\r\n    if (name === 'documentType') {\r\n      if (!value.trim()) error = 'Tipo de documento obligatorio.';\r\n    }\r\n    if (name === 'documentNumber') {\r\n      if (!value.trim()) error = 'Número de documento obligatorio.';\r\n      else if (!/^\\d{5,}$/.test(value)) error = 'El número de documento debe ser numérico y mínimo 5 dígitos.';\r\n      else if (users.some(u => u.documentNumber === value) && (!editingId || users.find(u => u.id === editingId)?.documentNumber !== value)) error = 'Este número de documento ya está registrado.';\r\n    }\r\n    if (name === 'birthDate') {\r\n      if (!value.trim()) error = 'Fecha de nacimiento obligatoria.';\r\n      else {\r\n        const birth = new Date(value);\r\n        const now = new Date();\r\n        if (birth > now) error = 'La fecha de nacimiento no puede ser futura.';\r\n        const age = now.getFullYear() - birth.getFullYear() - (now < new Date(now.getFullYear(), birth.getMonth(), birth.getDate()) ? 1 : 0);\r\n        if (age < 5) error = 'La edad mínima es 5 años.';\r\n      }\r\n    }\r\n    if (name === 'phone') {\r\n      if (!value.trim()) error = 'Teléfono obligatorio.';\r\n      else if (!/^\\d{7,10}$/.test(value)) error = 'El teléfono debe tener entre 7 y 10 dígitos.';\r\n      else if (value.startsWith('0')) error = 'El teléfono no debe empezar por 0.';\r\n    }\r\n    if (name === 'address') {\r\n      if (!value.trim() || value.trim().length < 5) error = 'La dirección debe tener al menos 5 caracteres.';\r\n    }\r\n    if (name === 'gender') {\r\n      if (!['M', 'F', 'O'].includes(value)) error = 'Selecciona un género válido.';\r\n    }\r\n    if (name === 'photoUrl' && value) {\r\n      if (!/^https?:\\/\\/.+\\.(jpg|jpeg|png|gif|webp)$/i.test(value)) error = 'La foto debe ser una URL de imagen válida.';\r\n    }\r\n    return error;\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value, type } = e.target;\r\n    if (type === 'file' && name === 'photo') {\r\n      const file = (e.target as HTMLInputElement).files?.[0] || null;\r\n      setPhotoFile(file);\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => setPhotoPreview(reader.result as string);\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        setPhotoPreview(null);\r\n      }\r\n    } else {\r\n      setForm({ ...form, [name]: value });\r\n      setFieldErrors(prev => ({ ...prev, [name]: validateField(name, value) }));\r\n    }\r\n  };\r\n\r\n  // Crear o editar usuario\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setCreating(true);\r\n    setError('');\r\n    // Validación global antes de enviar\r\n    const newErrors: typeof fieldErrors = {\r\n      name: validateField('name', form.name),\r\n      email: validateField('email', form.email),\r\n    };\r\n      // No validar firebaseUid en creación\r\n    setFieldErrors(newErrors);\r\n    if (newErrors.name || newErrors.email) {\r\n      setError('Por favor corrige los errores antes de guardar.');\r\n      setCreating(false);\r\n      return;\r\n    }\r\n    try {\r\n      if (editingId) {\r\n        const res = await fetch('/api/admin/usuarios', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ id: editingId, name: form.name, email: form.email, role: form.role }),\r\n        });\r\n        if (!res.ok) {\r\n          const data = await res.json();\r\n          setError(data.error || 'Error al editar usuario');\r\n        } else {\r\n          const updatedUser = await res.json();\r\n          setUsers(prev => prev.map(u => u.id === updatedUser.id ? updatedUser : u));\r\n          setForm({\r\n            name: '',\r\n            email: '',\r\n            role: 'admin',\r\n            documentType: '',\r\n            documentNumber: '',\r\n            birthDate: '',\r\n            phone: '',\r\n            address: '',\r\n            gender: '',\r\n            photoUrl: ''\r\n          });\r\n          setEditingId(null);\r\n        }\r\n      } else {\r\n        const res = await fetch('/api/admin/usuarios', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(form),\r\n        });\r\n        if (!res.ok) {\r\n          const data = await res.json();\r\n          setError(data.error || 'Error al crear usuario');\r\n        } else {\r\n          const newUser = await res.json();\r\n          setUsers(prev => [...prev, newUser]);\r\n          setForm({\r\n            name: '',\r\n            email: '',\r\n            role: 'admin',\r\n            documentType: '',\r\n            documentNumber: '',\r\n            birthDate: '',\r\n            phone: '',\r\n            address: '',\r\n            gender: '',\r\n            photoUrl: ''\r\n          });\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError('Error de red');\r\n    }\r\n    setCreating(false);\r\n  };\r\n\r\n  // Eliminar usuario\r\n  const handleDelete = async (id: number) => {\r\n    if (!window.confirm('¿Seguro que deseas eliminar este usuario?')) return;\r\n    try {\r\n      const res = await fetch('/api/admin/usuarios', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        setError(data.error || 'Error al eliminar usuario');\r\n      } else {\r\n        setUsers(prev => prev.filter(u => u.id !== id));\r\n      }\r\n    } catch (err) {\r\n      setError('Error de red');\r\n    }\r\n  };\r\n\r\n  // Editar usuario (cargar datos en el formulario)\r\n  const handleEdit = (user: User) => {\r\n    setForm({\r\n      name: user.name || '',\r\n      email: user.email,\r\n      role: user.role,\r\n      documentType: user.documentType || '',\r\n      documentNumber: user.documentNumber || '',\r\n      birthDate: user.birthDate ? user.birthDate.split('T')[0] : '',\r\n      phone: user.phone || '',\r\n      address: user.address || '',\r\n      gender: user.gender || '',\r\n      photoUrl: user.photoUrl || ''\r\n    });\r\n    setEditingId(user.id);\r\n    setError('');\r\n  };\r\n\r\n  return (\r\n    <ProtectedRoute allowedRoles={[\"ADMIN\"]}>\r\n      <div className={styles.dashboardContainer}>\r\n        {/* Sidebar */}\r\n        <aside className={styles.sidebar}>\r\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '3rem' }}>\r\n            <img src=\"/favicon.ico\" alt=\"Admin\" className={styles.avatar} />\r\n            <span className={styles.logo}>AulaUnida</span>\r\n          </div>\r\n          <nav className={styles.menu}>\r\n            <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n              {sidebarLinks.map(link => (\r\n                <li key={link.label}>\r\n                  <NextLink href={link.href} className={`${styles.menuItem} ${pathname === link.href ? styles.menuItemActive : ''}`}>\r\n                    <link.icon style={{ width: 24, height: 24, marginRight: 16 }} />\r\n                    {link.label}\r\n                  </NextLink>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </nav>\r\n        </aside>\r\n        {/* Main Content */}\r\n        <main className={styles.mainContent}>\r\n          <BackToDashboardButton />\r\n          <h1 className={styles.title}>Gestión de Usuarios</h1>\r\n          <div className={styles.activityCard}>\r\n            <h2 className={styles.activityTitle}>{editingId ? 'Editar Usuario' : 'Crear Usuario'}</h2>\r\n            <form className=\"grid grid-cols-1 gap-6 bg-[#232734] p-8 rounded-xl shadow-lg\"\r\n              style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(1, 1fr)',\r\n                gap: '1.5rem',\r\n              }}\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(3, 1fr)',\r\n                gap: '1.5rem',\r\n              }}>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Nombre completo</label>\r\n                  <input className={formStyles.adminFormInput} placeholder=\"Nombre completo\" name=\"name\" value={form.name || ''} onChange={handleChange} disabled={creating} autoComplete=\"off\" />\r\n                  {fieldErrors.name && <span className={formStyles.adminFormError}>{fieldErrors.name}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Correo electrónico</label>\r\n                  <input className={formStyles.adminFormInput} placeholder=\"Correo electrónico\" name=\"email\" value={form.email || ''} onChange={handleChange} disabled={creating} type=\"email\" autoComplete=\"off\" />\r\n                  {fieldErrors.email && <span className={formStyles.adminFormError}>{fieldErrors.email}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Rol</label>\r\n                  <select className={formStyles.adminFormSelect} name=\"role\" value={form.role || ''} onChange={handleChange} disabled={creating}>\r\n                    <option value=\"admin\">admin</option>\r\n                    <option value=\"docente\">docente</option>\r\n                    <option value=\"estudiante\">estudiante</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(3, 1fr)',\r\n                gap: '1.5rem',\r\n              }}>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Tipo de documento</label>\r\n                  <select className={formStyles.adminFormSelect} name=\"documentType\" value={form.documentType || ''} onChange={handleChange} disabled={creating}>\r\n                    <option value=\"\">Tipo de documento</option>\r\n                    <option value=\"CC\">Cédula de ciudadanía</option>\r\n                    <option value=\"TI\">Tarjeta de identidad</option>\r\n                    <option value=\"CE\">Cédula de extranjería</option>\r\n                    <option value=\"PAS\">Pasaporte</option>\r\n                  </select>\r\n                  {fieldErrors.documentType && <span className={formStyles.adminFormError}>{fieldErrors.documentType}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Número de documento</label>\r\n                  <input className={formStyles.adminFormInput} placeholder=\"Número de documento\" name=\"documentNumber\" value={form.documentNumber || ''} onChange={handleChange} disabled={creating} autoComplete=\"off\" />\r\n                  {fieldErrors.documentNumber && <span className={formStyles.adminFormError}>{fieldErrors.documentNumber}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Fecha de nacimiento</label>\r\n                  <input className={formStyles.adminFormInput} type=\"date\" name=\"birthDate\" value={form.birthDate || ''} onChange={handleChange} disabled={creating} />\r\n                  {fieldErrors.birthDate && <span className={formStyles.adminFormError}>{fieldErrors.birthDate}</span>}\r\n                </div>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(3, 1fr)',\r\n                gap: '1.5rem',\r\n              }}>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Teléfono</label>\r\n                  <input className={formStyles.adminFormInput} placeholder=\"Teléfono\" name=\"phone\" value={form.phone || ''} onChange={handleChange} disabled={creating} autoComplete=\"off\" />\r\n                  {fieldErrors.phone && <span className={formStyles.adminFormError}>{fieldErrors.phone}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Dirección</label>\r\n                  <input className={formStyles.adminFormInput} placeholder=\"Dirección\" name=\"address\" value={form.address || ''} onChange={handleChange} disabled={creating} autoComplete=\"off\" />\r\n                  {fieldErrors.address && <span className={formStyles.adminFormError}>{fieldErrors.address}</span>}\r\n                </div>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Género</label>\r\n                  <select className={formStyles.adminFormSelect} name=\"gender\" value={form.gender || ''} onChange={handleChange} disabled={creating}>\r\n                    <option value=\"\">Género</option>\r\n                    <option value=\"M\">Masculino</option>\r\n                    <option value=\"F\">Femenino</option>\r\n                    <option value=\"O\">Otro</option>\r\n                  </select>\r\n                  {fieldErrors.gender && <span className={formStyles.adminFormError}>{fieldErrors.gender}</span>}\r\n                </div>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: '1fr 2fr',\r\n                gap: '1.5rem',\r\n              }}>\r\n                <div className={formStyles.adminFormField}>\r\n                  <label className={formStyles.adminFormLabel}>Foto de perfil</label>\r\n                  <input type=\"file\" accept=\"image/*\" name=\"photo\" onChange={handleChange} disabled={creating} className={formStyles.adminFormInput} />\r\n                  {photoPreview && (\r\n                    <img src={photoPreview} alt=\"Preview\" className={formStyles.adminFormPhotoPreview} />\r\n                  )}\r\n                </div>\r\n                {editingId && (\r\n                  <div className={formStyles.adminFormField}>\r\n                    <label className={formStyles.adminFormLabel}>Firebase UID</label>\r\n                    <input className={formStyles.adminFormInput} placeholder=\"Firebase UID\" name=\"firebaseUid\" value={users.find(u => u.id === editingId)?.firebaseUid || ''} disabled readOnly autoComplete=\"off\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"col-span-1 md:col-span-3 flex gap-2 mt-2\">\r\n                <Button variant=\"primary\" className={formStyles.adminFormButton + ' flex-1'} type=\"submit\" disabled={creating || Object.values(fieldErrors).some(Boolean)}>\r\n                  {creating ? 'Creando...' : (editingId ? 'Guardar' : 'Crear usuario')}\r\n                </Button>\r\n                <Button variant=\"ghost\" type=\"button\" className={formStyles.adminFormButton + ' flex-1'} style={{ background: '#888', color: '#fff' }} onClick={() => { setEditingId(null); setForm({ name: '', email: '', role: 'admin', documentType: '', documentNumber: '', birthDate: '', phone: '', address: '', gender: '', photoUrl: '' }); setError(''); }} disabled={creating}>\r\n                  Cancelar\r\n                </Button>\r\n              </div>\r\n            </form>\r\n            {error && <div style={{ color: 'red', marginTop: 12 }}>{error}</div>}\r\n          </div>\r\n          {/* El listado de usuarios ahora está en /admin/usuarios/listado */}\r\n        </main>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}