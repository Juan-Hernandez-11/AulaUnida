{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/estudiante-dashboard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activityCard\": \"estudiante-dashboard-module__weNdnq__activityCard\",\n  \"activityTitle\": \"estudiante-dashboard-module__weNdnq__activityTitle\",\n  \"avatar\": \"estudiante-dashboard-module__weNdnq__avatar\",\n  \"classContent\": \"estudiante-dashboard-module__weNdnq__classContent\",\n  \"classItem\": \"estudiante-dashboard-module__weNdnq__classItem\",\n  \"classSubtitle\": \"estudiante-dashboard-module__weNdnq__classSubtitle\",\n  \"classTime\": \"estudiante-dashboard-module__weNdnq__classTime\",\n  \"classTitle\": \"estudiante-dashboard-module__weNdnq__classTitle\",\n  \"dashboardContainer\": \"estudiante-dashboard-module__weNdnq__dashboardContainer\",\n  \"emptyState\": \"estudiante-dashboard-module__weNdnq__emptyState\",\n  \"gridContainer\": \"estudiante-dashboard-module__weNdnq__gridContainer\",\n  \"loadingContainer\": \"estudiante-dashboard-module__weNdnq__loadingContainer\",\n  \"logo\": \"estudiante-dashboard-module__weNdnq__logo\",\n  \"logoutBtn\": \"estudiante-dashboard-module__weNdnq__logoutBtn\",\n  \"mainContent\": \"estudiante-dashboard-module__weNdnq__mainContent\",\n  \"menu\": \"estudiante-dashboard-module__weNdnq__menu\",\n  \"menuItem\": \"estudiante-dashboard-module__weNdnq__menuItem\",\n  \"menuItemActive\": \"estudiante-dashboard-module__weNdnq__menuItemActive\",\n  \"notificationContent\": \"estudiante-dashboard-module__weNdnq__notificationContent\",\n  \"notificationDot\": \"estudiante-dashboard-module__weNdnq__notificationDot\",\n  \"notificationItem\": \"estudiante-dashboard-module__weNdnq__notificationItem\",\n  \"notificationSubtitle\": \"estudiante-dashboard-module__weNdnq__notificationSubtitle\",\n  \"notificationTitle\": \"estudiante-dashboard-module__weNdnq__notificationTitle\",\n  \"sidebar\": \"estudiante-dashboard-module__weNdnq__sidebar\",\n  \"subtitle\": \"estudiante-dashboard-module__weNdnq__subtitle\",\n  \"taskContent\": \"estudiante-dashboard-module__weNdnq__taskContent\",\n  \"taskIcon\": \"estudiante-dashboard-module__weNdnq__taskIcon\",\n  \"taskItem\": \"estudiante-dashboard-module__weNdnq__taskItem\",\n  \"taskStatus\": \"estudiante-dashboard-module__weNdnq__taskStatus\",\n  \"taskSubtitle\": \"estudiante-dashboard-module__weNdnq__taskSubtitle\",\n  \"taskTitle\": \"estudiante-dashboard-module__weNdnq__taskTitle\",\n  \"title\": \"estudiante-dashboard-module__weNdnq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/LoadingModal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"overlay\": \"LoadingModal-module__WP8uBG__overlay\",\n  \"panel\": \"LoadingModal-module__WP8uBG__panel\",\n  \"srOnly\": \"LoadingModal-module__WP8uBG__srOnly\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/Loading.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loadingRoot\": \"Loading-module__2aO0xG__loadingRoot\",\n  \"spin\": \"Loading-module__2aO0xG__spin\",\n  \"spinner\": \"Loading-module__2aO0xG__spinner\",\n  \"text\": \"Loading-module__2aO0xG__text\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/Loading.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './Loading.module.css';\r\n\r\ninterface Props { message?: string }\r\n\r\nexport default function Loading({ message = 'Cargando...' }: Props) {\r\n  return (\r\n    <div className={styles.loadingRoot}>\r\n      <div className={styles.spinner} aria-hidden=\"true\" />\r\n      <div className={styles.text}>{message}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAIe,SAAS,QAAQ,EAAE,UAAU,aAAa,EAAS;IAChE,qBACE,8OAAC;QAAI,WAAW,yJAAM,CAAC,WAAW;;0BAChC,8OAAC;gBAAI,WAAW,yJAAM,CAAC,OAAO;gBAAE,eAAY;;;;;;0BAC5C,8OAAC;gBAAI,WAAW,yJAAM,CAAC,IAAI;0BAAG;;;;;;;;;;;;AAGpC","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/LoadingModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './LoadingModal.module.css';\r\nimport Loading from './Loading';\r\n\r\ninterface Props { open: boolean; message?: string }\r\n\r\nexport default function LoadingModal({ open, message = 'Cargando...' }: Props) {\r\n  if (!open) return null;\r\n  return (\r\n    <div className={styles.overlay} role=\"status\" aria-live=\"polite\">\r\n      <div className={styles.panel}>\r\n        <Loading message={message} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAIe,SAAS,aAAa,EAAE,IAAI,EAAE,UAAU,aAAa,EAAS;IAC3E,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,8OAAC;QAAI,WAAW,8JAAM,CAAC,OAAO;QAAE,MAAK;QAAS,aAAU;kBACtD,cAAA,8OAAC;YAAI,WAAW,8JAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC,8IAAO;gBAAC,SAAS;;;;;;;;;;;;;;;;AAI1B","debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/hooks/useDelayedOpen.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\n// Hook que abre con delay para evitar parpadeos en cargas rápidas\r\nexport default function useDelayedOpen(open: boolean, delay = 250) {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let t: any;\r\n    if (open) {\r\n      t = setTimeout(() => setVisible(true), delay);\r\n    } else {\r\n      // si se cierra rápidamente, esconder inmediatamente\r\n      setVisible(false);\r\n    }\r\n    return () => clearTimeout(t);\r\n  }, [open, delay]);\r\n\r\n  return visible;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAGe,SAAS,eAAe,IAAa,EAAE,QAAQ,GAAG;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI;QACJ,IAAI,MAAM;YACR,IAAI,WAAW,IAAM,WAAW,OAAO;QACzC,OAAO;YACL,oDAAoD;YACpD,WAAW;QACb;QACA,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAM;KAAM;IAEhB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/layout/EstudianteLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { useAuth } from '../../context/authContext';\r\nimport styles from '../../styles/estudiante-dashboard.module.css';\r\nimport LoadingModal from '../ui/LoadingModal';\r\nimport useDelayedOpen from '../../hooks/useDelayedOpen';\r\n\r\ninterface EstudianteLayoutProps {\r\n  children: React.ReactNode;\r\n  title: string;\r\n  subtitle?: string;\r\n}\r\n\r\nexport default function EstudianteLayout({ children, title, subtitle }: EstudianteLayoutProps) {\r\n  const { user, loading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const delayedOpen = useDelayedOpen(loading);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.loadingContainer}>\r\n        <LoadingModal open={delayedOpen} message=\"Cargando...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className={styles.loadingContainer}>\r\n        <h2>Bienvenido a AulaUnida</h2>\r\n        <p>Por favor inicia sesión.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const menuItems = [\r\n    {\r\n      href: '/estudiante',\r\n      label: 'Inicio',\r\n      icon: (\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M9 22V12H15V22\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      )\r\n    },\r\n    {\r\n      href: '/estudiante/asignaturas',\r\n      label: 'Asignaturas',\r\n      icon: (\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M4 19.5C4 18.1193 5.11929 17 6.5 17H20\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      )\r\n    },\r\n    {\r\n      href: '/estudiante/notas',\r\n      label: 'Notas y Asistencia',\r\n      icon: (\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M16 4V10C16 10.5304 16.2107 11.0391 16.5858 11.4142C16.9609 11.7893 17.4696 12 18 12H24\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V4C4 3.46957 4.21071 2.96086 4.58579 2.58579C4.96086 2.21071 5.46957 2 6 2H16L22 8V20C22 20.5304 21.7893 21.0391 21.4142 21.4142C21.0391 21.7893 20.5304 22 20 22Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M8 13H16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M8 17H16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      )\r\n    },\r\n    {\r\n      href: '/estudiante/boletin',\r\n      label: 'Boletín',\r\n      icon: (\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M14 2V8H20\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M16 13H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M16 17H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M10 9H9H8\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.dashboardContainer}>\r\n      <aside className={styles.sidebar}>\r\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '3rem' }}>\r\n          <img src=\"/favicon.ico\" className={styles.avatar} alt=\"AulaUnida\" />\r\n          <span className={styles.logo}>AulaUnida</span>\r\n        </div>\r\n        \r\n        <nav className={styles.menu}>\r\n          <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n            {menuItems.map((item) => (\r\n              <li key={item.href}>\r\n                <Link \r\n                  href={item.href} \r\n                  className={`${styles.menuItem} ${pathname === item.href ? styles.menuItemActive : ''}`}\r\n                >\r\n                  <span style={{ marginRight: 16 }}>\r\n                    {item.icon}\r\n                  </span>\r\n                  {item.label}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n        \r\n        <button \r\n          onClick={async () => { \r\n            await logout(); \r\n            router.push('/login'); \r\n          }} \r\n          className={styles.logoutBtn}\r\n        >\r\n          <span style={{ marginRight: 8 }}>\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              <path d=\"M16 17L21 12L16 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              <path d=\"M21 12H9\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n            </svg>\r\n          </span> \r\n          Cerrar sesión\r\n        </button>\r\n      </aside>\r\n\r\n      <main className={styles.mainContent}>\r\n        <h1 className={styles.title}>{title}</h1>\r\n        {subtitle && <p className={styles.subtitle}>{subtitle}</p>}\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/app/estudiante/asignaturas/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '../../../context/authContext';\r\nimport EstudianteLayout from '../../../components/layout/EstudianteLayout';\r\nimport styles from '../../../styles/estudiante-dashboard.module.css';\r\nimport LoadingModal from '../../../components/ui/LoadingModal';\r\nimport useDelayedOpen from '../../../hooks/useDelayedOpen';\r\n\r\nexport default function AsignaturasPage() {\r\n  const { user } = useAuth();\r\n  const [notas, setNotas] = useState<any[]>([]);\r\n  const [mergedMaterias, setMergedMaterias] = useState<Record<string, any[]>>({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const delayedOpen = useDelayedOpen(loading);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    setLoading(true);\r\n    user.getIdToken().then(async (token) => {\r\n      try {\r\n        const headers = { Authorization: `Bearer ${token}` };\r\n        // Traer notas y horario en paralelo\r\n        const [nRes, hRes] = await Promise.all([\r\n          fetch('/api/estudiante/notas', { headers }),\r\n          fetch('/api/estudiante/horario', { headers })\r\n        ]);\r\n        if (!nRes.ok) throw new Error('Error al obtener notas');\r\n        if (!hRes.ok) throw new Error('Error al obtener horario');\r\n        const nData = await nRes.json();\r\n        const hData = await hRes.json();\r\n        setNotas(Array.isArray(nData) ? nData : []);\r\n\r\n        // Construir mapa de materias: tomar nombres desde horario y desde notas\r\n        const materiasFromHorario = Array.isArray(hData) ? Array.from(new Set(hData.map((h: any) => String(h.materia)))) : [];\r\n        const materiasFromNotas = Array.isArray(nData) ? Array.from(new Set(nData.map((n: any) => n.materia?.nombre).filter(Boolean))) : [];\r\n        // Unir ambas listas\r\n        const union = Array.from(new Set([...materiasFromHorario, ...materiasFromNotas]));\r\n\r\n        // Si hay materias sin notas, las incluimos en el objeto materias con array vacío\r\n        const notasMap = (Array.isArray(nData) ? nData : []).reduce((acc: any, cur: any) => {\r\n          const nombre = cur.materia?.nombre || 'Sin materia';\r\n          if (!acc[nombre]) acc[nombre] = [];\r\n          acc[nombre].push(cur);\r\n          return acc;\r\n        }, {} as Record<string, any[]>);\r\n\r\n        // Construir objeto final garantizando todas las materias del union\r\n        const merged: Record<string, any[]> = {};\r\n        union.forEach((m: string) => {\r\n          merged[m] = notasMap[m] || [];\r\n        });\r\n\r\n        setNotas(Array.isArray(nData) ? nData : []);\r\n        setMergedMaterias(merged);\r\n        setError(null);\r\n      } catch (err: any) {\r\n        setError(err.message || 'Error');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }).catch(err => { setError('No se pudo obtener token'); setLoading(false); });\r\n  }, [user]);\r\n\r\n  // Recuperar las materias mergeadas que construimos en el effect\r\n  const materias = Object.keys(mergedMaterias).length ? mergedMaterias : notas.reduce((acc: any, n: any) => {\r\n    const nombre = n.materia?.nombre || 'Sin materia';\r\n    if (!acc[nombre]) acc[nombre] = [];\r\n    acc[nombre].push(n);\r\n    return acc;\r\n  }, {} as Record<string, any[]>);\r\n\r\n  return (\r\n    <EstudianteLayout \r\n      title=\"Mis Asignaturas\" \r\n      subtitle=\"Consulta tus materias y el progreso académico de cada una\"\r\n    >\r\n      <LoadingModal open={delayedOpen} message=\"Cargando asignaturas...\" />\r\n      \r\n      {error && (\r\n        <div className={styles.activityCard} style={{ marginBottom: '2rem', border: '1px solid #ef4444' }}>\r\n          <div style={{ color: '#ef4444', textAlign: 'center', padding: '1rem' }}>\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ marginBottom: '0.5rem' }}>\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n              <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n              <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n            </svg>\r\n            <p>{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && Object.keys(materias).length === 0 && (\r\n        <div className={styles.activityCard}>\r\n          <div className={styles.emptyState}>\r\n            <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={{ marginBottom: '1rem', opacity: 0.5 }}>\r\n              <path d=\"M4 19.5C4 18.1193 5.11929 17 6.5 17H20\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              <path d=\"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n            </svg>\r\n            <h3 style={{ margin: '0 0 0.5rem 0', color: '#cbd5e1' }}>No hay asignaturas disponibles</h3>\r\n            <p style={{ margin: 0, color: '#94a3b8' }}>Aún no tienes materias asignadas.</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className={styles.gridContainer}>\r\n        {Object.entries(materias).map(([mat, arr], i) => {\r\n          const promedio = (arr as any[]).length > 0 \r\n            ? ((arr as any[]).reduce((s: number, it: any) => s + (it.valor || 0), 0) / (arr as any[]).length).toFixed(2)\r\n            : '0.00';\r\n          const promedioNum = parseFloat(promedio);\r\n          const colorPromedio = promedioNum >= 3.5 ? '#22c55e' : \r\n                               promedioNum >= 3.0 ? '#fbbf24' : '#ef4444';\r\n          \r\n          return (\r\n            <div key={i} className={styles.activityCard} style={{ marginBottom: '2rem' }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  <div className={styles.taskIcon} style={{ marginRight: '1rem' }}>\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M4 19.5C4 18.1193 5.11929 17 6.5 17H20\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      <path d=\"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className={styles.activityTitle} style={{ margin: 0, fontSize: '1.25rem' }}>{mat}</h3>\r\n                </div>\r\n                <div style={{ \r\n                  background: colorPromedio, \r\n                  color: '#0f172a', \r\n                  padding: '0.5rem 1rem', \r\n                  borderRadius: '1rem',\r\n                  fontWeight: '700',\r\n                  fontSize: '0.875rem'\r\n                }}>\r\n                  Promedio: {promedio}\r\n                </div>\r\n              </div>\r\n              \r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                {(arr as any[]).length === 0 ? (\r\n                  <div className={styles.emptyState}>\r\n                    Sin notas registradas\r\n                  </div>\r\n                ) : (\r\n                  (arr as any[]).map((nota: any, idx: number) => (\r\n                    <div key={idx} className={styles.taskItem}>\r\n                      <div className={styles.taskContent}>\r\n                        <div className={styles.taskTitle}>\r\n                          {nota.periodo?.nombre || 'Periodo'}\r\n                        </div>\r\n                        <div className={styles.taskSubtitle}>\r\n                          Evaluación académica\r\n                        </div>\r\n                      </div>\r\n                      <div \r\n                        style={{ \r\n                          fontWeight: '700', \r\n                          color: (nota.valor || 0) >= 3.5 ? '#22c55e' : \r\n                                 (nota.valor || 0) >= 3.0 ? '#fbbf24' : '#ef4444',\r\n                          fontSize: '1.25rem'\r\n                        }}\r\n                      >\r\n                        {nota.valor ?? '-'}\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </EstudianteLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}