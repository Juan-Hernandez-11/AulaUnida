{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/hooks/useUserRole.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '../context/authContext';\r\n\r\n// Hook para obtener el rol del usuario desde la API interna (PostgreSQL)\r\nexport function useUserRole() {\r\n  const { user } = useAuth();\r\n  const [role, setRole] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setRole(null);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    // Llama a tu API interna para obtener el rol por UID de Firebase\r\n    const fetchRole = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(`/api/user-role?uid=${user.uid}`);\r\n        const data = await res.json();\r\n        setRole(data.role || null);\r\n      } catch (err) {\r\n        setRole(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRole();\r\n  }, [user]);\r\n\r\n  return { role, loading };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAKO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgB;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;YACT,QAAQ;YACR,WAAW;YACX;QACF;QACA,iEAAiE;QACjE,MAAM,YAAY;YAChB,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,KAAK,GAAG,EAAE;gBACxD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,IAAI,IAAI;YACvB,EAAE,OAAO,KAAK;gBACZ,QAAQ;YACV,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;KAAK;IAET,OAAO;QAAE;QAAM;IAAQ;AACzB","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/LoadingModal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"overlay\": \"LoadingModal-module__WP8uBG__overlay\",\n  \"panel\": \"LoadingModal-module__WP8uBG__panel\",\n  \"srOnly\": \"LoadingModal-module__WP8uBG__srOnly\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ui/Loading.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loadingRoot\": \"Loading-module__2aO0xG__loadingRoot\",\n  \"spin\": \"Loading-module__2aO0xG__spin\",\n  \"spinner\": \"Loading-module__2aO0xG__spinner\",\n  \"text\": \"Loading-module__2aO0xG__text\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/Loading.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './Loading.module.css';\r\n\r\ninterface Props { message?: string }\r\n\r\nexport default function Loading({ message = 'Cargando...' }: Props) {\r\n  return (\r\n    <div className={styles.loadingRoot}>\r\n      <div className={styles.spinner} aria-hidden=\"true\" />\r\n      <div className={styles.text}>{message}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAIe,SAAS,QAAQ,EAAE,UAAU,aAAa,EAAS;IAChE,qBACE,8OAAC;QAAI,WAAW,yJAAM,CAAC,WAAW;;0BAChC,8OAAC;gBAAI,WAAW,yJAAM,CAAC,OAAO;gBAAE,eAAY;;;;;;0BAC5C,8OAAC;gBAAI,WAAW,yJAAM,CAAC,IAAI;0BAAG;;;;;;;;;;;;AAGpC","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ui/LoadingModal.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './LoadingModal.module.css';\r\nimport Loading from './Loading';\r\n\r\ninterface Props { open: boolean; message?: string }\r\n\r\nexport default function LoadingModal({ open, message = 'Cargando...' }: Props) {\r\n  if (!open) return null;\r\n  return (\r\n    <div className={styles.overlay} role=\"status\" aria-live=\"polite\">\r\n      <div className={styles.panel}>\r\n        <Loading message={message} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAIe,SAAS,aAAa,EAAE,IAAI,EAAE,UAAU,aAAa,EAAS;IAC3E,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,8OAAC;QAAI,WAAW,8JAAM,CAAC,OAAO;QAAE,MAAK;QAAS,aAAU;kBACtD,cAAA,8OAAC;YAAI,WAAW,8JAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC,8IAAO;gBAAC,SAAS;;;;;;;;;;;;;;;;AAI1B","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport React from 'react';\r\nimport { useAuth } from '../context/authContext';\r\nimport { useUserRole } from '../hooks/useUserRole';\r\nimport Loading from './ui/Loading';\r\nimport LoadingModal from './ui/LoadingModal';\r\n\r\n// Componente para proteger rutas según autenticación y rol\r\nexport default function ProtectedRoute({ children, allowedRoles }: { children: React.ReactNode, allowedRoles?: string[] }) {\r\n  const { user, loading: authLoading } = useAuth();\r\n  const { role, loading: roleLoading } = useUserRole();\r\n\r\n  if (authLoading || roleLoading) return <LoadingModal open={true} message=\"Cargando...\" />;\r\n  if (!user) {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = '/login';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  if (allowedRoles && (!role || !allowedRoles.includes(role))) {\r\n    return <div>No tienes permiso para acceder a esta página.</div>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAQe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAA0D;IACvH,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,yIAAO;IAC9C,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,0IAAW;IAElD,IAAI,eAAe,aAAa,qBAAO,8OAAC,mJAAY;QAAC,MAAM;QAAM,SAAQ;;;;;;IACzE,IAAI,CAAC,MAAM;QACT;;QAGA,OAAO;IACT;IAEA,IAAI,gBAAgB,CAAC,CAAC,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,GAAG;QAC3D,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/admin-dashboard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activityAction\": \"admin-dashboard-module__5BnUYq__activityAction\",\n  \"activityCard\": \"admin-dashboard-module__5BnUYq__activityCard\",\n  \"activityDate\": \"admin-dashboard-module__5BnUYq__activityDate\",\n  \"activityTable\": \"admin-dashboard-module__5BnUYq__activityTable\",\n  \"activityTitle\": \"admin-dashboard-module__5BnUYq__activityTitle\",\n  \"activityUser\": \"admin-dashboard-module__5BnUYq__activityUser\",\n  \"avatar\": \"admin-dashboard-module__5BnUYq__avatar\",\n  \"dashboardContainer\": \"admin-dashboard-module__5BnUYq__dashboardContainer\",\n  \"logo\": \"admin-dashboard-module__5BnUYq__logo\",\n  \"logoutBtn\": \"admin-dashboard-module__5BnUYq__logoutBtn\",\n  \"mainContent\": \"admin-dashboard-module__5BnUYq__mainContent\",\n  \"menu\": \"admin-dashboard-module__5BnUYq__menu\",\n  \"menuItem\": \"admin-dashboard-module__5BnUYq__menuItem\",\n  \"menuItemActive\": \"admin-dashboard-module__5BnUYq__menuItemActive\",\n  \"metricCard\": \"admin-dashboard-module__5BnUYq__metricCard\",\n  \"metricLabel\": \"admin-dashboard-module__5BnUYq__metricLabel\",\n  \"metricValue\": \"admin-dashboard-module__5BnUYq__metricValue\",\n  \"metricsGrid\": \"admin-dashboard-module__5BnUYq__metricsGrid\",\n  \"sidebar\": \"admin-dashboard-module__5BnUYq__sidebar\",\n  \"subtitle\": \"admin-dashboard-module__5BnUYq__subtitle\",\n  \"title\": \"admin-dashboard-module__5BnUYq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/components/NextLink.tsx"],"sourcesContent":["import Link from 'next/link';\r\n\r\nexport default Link;"],"names":[],"mappings":";;;;AAAA;;uCAEe,uKAAI","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juant/Documents/proyectoCUN/aulaunida/src/app/admin/matricula/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, ChangeEvent } from 'react';\r\nimport ProtectedRoute from '../../../components/ProtectedRoute';\r\nimport styles from '../../../styles/admin-dashboard.module.css';\r\nimport { UserCircleIcon, AcademicCapIcon, ClipboardIcon } from '@heroicons/react/24/outline';\r\nimport NextLink from '../../../components/NextLink';\r\n\r\nfunction BackToDashboardButton() {\r\n  return (\r\n    <div style={{ marginBottom: 24 }}>\r\n  <NextLink href=\"/admin\" style={{ display: 'inline-flex', alignItems: 'center', gap: 8, color: 'var(--color-primary)', fontWeight: 500 }}>\r\n        <svg width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\"/></svg>\r\n        Volver al Dashboard\r\n      </NextLink>\r\n    </div>\r\n  );\r\n}\r\n\r\ntype Grado = { id: number; nombre: string; seccion: string };\r\ntype Estudiante = { id: number; name: string; email: string };\r\n\r\nconst sidebarLinks = [\r\n  { label: 'Gestión de Usuarios', icon: UserCircleIcon, href: '/admin/usuarios' },\r\n  { label: 'Grados/Secciones', icon: AcademicCapIcon, href: '/admin/grados' },\r\n  { label: 'Matrícula', icon: ClipboardIcon, href: '/admin/matricula', active: true },\r\n];\r\n\r\nexport default function AdminMatriculaPage() {\r\n  const [grados, setGrados] = useState<Grado[]>([]);\r\n  const [estudiantes, setEstudiantes] = useState<Estudiante[]>([]);\r\n  const [matriculados, setMatriculados] = useState<Estudiante[]>([]);\r\n  const [gradoId, setGradoId] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [fieldErrors, setFieldErrors] = useState<{ gradoId?: string; estudianteId?: string }>({});\r\n  const [selectedEstudiante, setSelectedEstudiante] = useState('');\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  // Cargar grados y estudiantes al montar\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Promise.all([\r\n      fetch('/api/admin/grados').then(r => r.json()),\r\n      fetch('/api/admin/usuarios').then(r => r.json()),\r\n    ]).then(([grados, usuarios]) => {\r\n      setGrados(grados);\r\n      setEstudiantes(usuarios.filter((u: any) => u.role === 'STUDENT' || u.role === 'estudiante'));\r\n      setLoading(false);\r\n    }).catch(() => setLoading(false));\r\n  }, []);\r\n\r\n  // Cargar estudiantes matriculados al seleccionar grado o refrescar\r\n  const fetchMatriculados = () => {\r\n    if (!gradoId) return;\r\n    setLoading(true);\r\n    fetch(`/api/admin/matricula?gradoId=${gradoId}`)\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        setMatriculados(data);\r\n        setLoading(false);\r\n        setRefreshing(false);\r\n      })\r\n      .catch(() => { setLoading(false); setRefreshing(false); });\r\n  };\r\n  useEffect(() => { fetchMatriculados(); }, [gradoId]);\r\n\r\n  const handleGradoChange = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    const value = e.target.value;\r\n    setGradoId(value);\r\n    setMatriculados([]);\r\n    setError('');\r\n    setFieldErrors(prev => ({ ...prev, gradoId: !value ? 'Debes seleccionar un grado.' : '' }));\r\n  };\r\n\r\n  const handleEstudianteChange = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    const value = e.target.value;\r\n    setSelectedEstudiante(value);\r\n    setFieldErrors(prev => ({ ...prev, estudianteId: !value ? 'Debes seleccionar un estudiante.' : '' }));\r\n  };\r\n\r\n  const handleMatricular = async (estudianteId: number) => {\r\n    if (!gradoId) return;\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const res = await fetch('/api/admin/matricula', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ gradoId: Number(gradoId), estudianteId }),\r\n      });\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        setError(data.error || 'Error al matricular');\r\n      } else {\r\n        const nuevo = await res.json();\r\n        setMatriculados(prev => [...prev, nuevo]);\r\n        setSuccess('Estudiante matriculado correctamente.');\r\n      }\r\n    } catch {\r\n      setError('Error de red');\r\n    }\r\n    setLoading(false);\r\n    setTimeout(() => setSuccess(''), 2500);\r\n  };\r\n\r\n  const handleEliminar = async (estudianteId: number) => {\r\n    if (!gradoId) return;\r\n    if (!window.confirm('¿Seguro que deseas eliminar la matrícula?')) return;\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const res = await fetch('/api/admin/matricula', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ gradoId: Number(gradoId), estudianteId }),\r\n      });\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        setError(data.error || 'Error al eliminar matrícula');\r\n      } else {\r\n        setMatriculados(prev => prev.filter(e => e.id !== estudianteId));\r\n        setSuccess('Matrícula eliminada correctamente.');\r\n      }\r\n    } catch {\r\n      setError('Error de red');\r\n    }\r\n    setLoading(false);\r\n    setTimeout(() => setSuccess(''), 2500);\r\n  };\r\n\r\n  return (\r\n    <ProtectedRoute allowedRoles={[\"ADMIN\"]}>\r\n      <div className={styles.dashboardContainer}>\r\n        {/* Sidebar */}\r\n        <aside className={styles.sidebar}>\r\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '3rem' }}>\r\n            <img src=\"/favicon.ico\" alt=\"Admin\" className={styles.avatar} />\r\n            <span className={styles.logo}>AulaUnida</span>\r\n          </div>\r\n          <nav className={styles.menu}>\r\n            <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\r\n              {sidebarLinks.map(link => (\r\n                <li key={link.label}>\r\n                  <NextLink href={link.href} className={`${styles.menuItem} ${link.active ? styles.menuItemActive : ''}`}>\r\n                    <link.icon style={{ width: 24, height: 24, marginRight: 16 }} />\r\n                    {link.label}\r\n                  </NextLink>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </nav>\r\n        </aside>\r\n        {/* Main Content */}\r\n        <main className={styles.mainContent}>\r\n          <BackToDashboardButton />\r\n          <h1 className={styles.title}>Gestión de Matrícula</h1>\r\n          <div className={styles.activityCard}>\r\n            {/* Instrucción */}\r\n            <div style={{ marginBottom: 18, color: '#b0b3b8', fontSize: 16 }}>\r\n              Selecciona un grado para ver y gestionar sus estudiantes matriculados. Puedes agregar o eliminar estudiantes según corresponda.\r\n            </div>\r\n            {/* Selector de grado */}\r\n            <h2 style={{ fontWeight: 600, color: '#22c55e', marginBottom: 8 }}>Selecciona un grado</h2>\r\n            {grados.length === 0 ? (\r\n              <div style={{ color: '#f87171', marginBottom: 16 }}>No hay grados registrados.</div>\r\n            ) : (\r\n              <select\r\n                value={gradoId}\r\n                onChange={handleGradoChange}\r\n                style={{\r\n                  background: '#181A1B',\r\n                  color: '#fff',\r\n                  border: '1.5px solid #232527',\r\n                  borderRadius: 6,\r\n                  padding: '10px 14px',\r\n                  fontSize: 16,\r\n                  outline: 'none',\r\n                  boxShadow: 'none',\r\n                  marginBottom: 16,\r\n                  width: '100%',\r\n                  transition: 'border 0.2s',\r\n                }}\r\n                onFocus={e => e.currentTarget.style.border = '1.5px solid #22c55e'}\r\n                onBlur={e => e.currentTarget.style.border = '1.5px solid #232527'}\r\n              >\r\n                <option value=\"\">Selecciona grado</option>\r\n                {grados.map(g => (\r\n                  <option key={g.id} value={g.id}>{g.nombre} {g.seccion}</option>\r\n                ))}\r\n              </select>\r\n            )}\r\n            {/* Datos del grado seleccionado */}\r\n            {gradoId && (\r\n              <>\r\n                <div style={{ marginBottom: 12, padding: '8px 16px', background: '#232734', borderRadius: 8, display: 'flex', alignItems: 'center', gap: 24 }}>\r\n                  <span style={{ fontWeight: 600, color: '#fff' }}>Grado:</span>\r\n                  <span style={{ color: '#22c55e', fontWeight: 500 }}>{grados.find(g => String(g.id) === gradoId)?.nombre} {grados.find(g => String(g.id) === gradoId)?.seccion}</span>\r\n                  <span style={{ color: '#b0b3b8', fontWeight: 400 }}>Matriculados: <b>{matriculados.length}</b></span>\r\n                  <button\r\n                    style={{ marginLeft: 'auto', background: 'var(--color-primary)', color: '#fff', borderRadius: 6, padding: '6px 16px', fontWeight: 500, border: 'none', cursor: refreshing ? 'not-allowed' : 'pointer' }}\r\n                    onClick={() => { setRefreshing(true); fetchMatriculados(); }}\r\n                    disabled={refreshing}\r\n                  >\r\n                    {refreshing ? 'Actualizando...' : 'Refrescar'}\r\n                  </button>\r\n                </div>\r\n                {/* Separador visual */}\r\n                <hr style={{ border: 'none', borderTop: '1px solid #232527', margin: '16px 0' }} />\r\n                <h3 style={{ fontWeight: 600, marginBottom: 8 }}>Estudiantes matriculados</h3>\r\n                {loading ? (\r\n                  <div style={{ color: '#888' }}>Cargando...</div>\r\n                ) : (\r\n                  <div style={{ overflowX: 'auto' }}>\r\n                    <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: 16 }}>\r\n                      <thead style={{ background: '#232734' }}>\r\n                        <tr>\r\n                          <th style={{ padding: 8, textAlign: 'left', fontWeight: 600 }}>Nombre</th>\r\n                          <th style={{ padding: 8, textAlign: 'left', fontWeight: 600 }}>Email</th>\r\n                          <th style={{ padding: 8, textAlign: 'left', fontWeight: 600 }}>Acciones</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {matriculados.length === 0 ? (\r\n                          <tr><td colSpan={3} style={{ padding: 24, textAlign: 'center', color: '#888' }}>Sin estudiantes matriculados</td></tr>\r\n                        ) : (\r\n                          matriculados.map((e, idx) => (\r\n                            <tr key={e.id} style={{ borderTop: '1px solid #232527', background: idx % 2 === 0 ? '#181A1B' : '#232734' }}>\r\n                              <td style={{ padding: 8 }}>{e.name}</td>\r\n                              <td style={{ padding: 8 }}>{e.email}</td>\r\n                              <td style={{ padding: 8 }}>\r\n                                <button style={{ color: '#dc2626', fontWeight: 500, background: 'none', border: 'none', cursor: 'pointer' }} onClick={() => handleEliminar(e.id)}>Eliminar</button>\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n                {/* Separador visual */}\r\n                <hr style={{ border: 'none', borderTop: '1px solid #232527', margin: '16px 0' }} />\r\n                <h3 style={{ fontWeight: 600, marginTop: 8, marginBottom: 8 }}>Agregar estudiante</h3>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                  <div style={{ flex: 1 }}>\r\n                    <select\r\n                      id=\"add-estudiante\"\r\n                      value={selectedEstudiante}\r\n                      onChange={handleEstudianteChange}\r\n                      style={{\r\n                        background: '#181A1B',\r\n                        color: '#fff',\r\n                        border: '1.5px solid #232527',\r\n                        borderRadius: 6,\r\n                        padding: '10px 14px',\r\n                        fontSize: 16,\r\n                        outline: 'none',\r\n                        boxShadow: 'none',\r\n                        marginRight: 8,\r\n                        width: '100%',\r\n                        transition: 'border 0.2s',\r\n                      }}\r\n                      onFocus={e => e.currentTarget.style.border = '1.5px solid #22c55e'}\r\n                      onBlur={e => e.currentTarget.style.border = '1.5px solid #232527'}\r\n                    >\r\n                      <option value=\"\">Selecciona estudiante</option>\r\n                      {estudiantes.filter(e => !matriculados.some(m => m.id === e.id)).map(e => (\r\n                        <option key={e.id} value={e.id}>{e.name} ({e.email})</option>\r\n                      ))}\r\n                    </select>\r\n                    {fieldErrors.estudianteId && <span style={{ color: 'red', fontSize: 12 }}>{fieldErrors.estudianteId}</span>}\r\n                  </div>\r\n                  <button\r\n                    style={{\r\n                      background: loading ? '#22c55e99' : '#22c55e',\r\n                      color: '#fff',\r\n                      borderRadius: 6,\r\n                      padding: '10px 24px',\r\n                      fontWeight: 700,\r\n                      border: 'none',\r\n                      cursor: loading ? 'not-allowed' : 'pointer',\r\n                      minWidth: 120,\r\n                      fontSize: 16,\r\n                      boxShadow: 'none',\r\n                      transition: 'background 0.2s',\r\n                    }}\r\n                    onClick={() => {\r\n                      if (!selectedEstudiante) {\r\n                        setFieldErrors(prev => ({ ...prev, estudianteId: 'Debes seleccionar un estudiante.' }));\r\n                        return;\r\n                      }\r\n                      handleMatricular(Number(selectedEstudiante));\r\n                      setSelectedEstudiante('');\r\n                    }}\r\n                    disabled={loading || !selectedEstudiante || !!fieldErrors.estudianteId}\r\n                  >\r\n                    Matricular\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n            {fieldErrors.gradoId && <div style={{ color: 'red', marginTop: 12 }}>{fieldErrors.gradoId}</div>}\r\n            {error && <div style={{ color: 'red', marginBottom: 12 }}>{error}</div>}\r\n            {success && <div style={{ color: 'green', marginBottom: 12 }}>{success}</div>}\r\n            {loading && <div style={{ color: '#888', marginBottom: 12 }}>Procesando...</div>}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}